# 4장 함수
+ 함수를 정의하는 다양한 방법들
    - 함수 표현식
    - 함수 선언문
+ 지역 유효범위
+ 변수 호이스팅(hoisting)

## 4.1 배경 지식
+ 런타임, 즉 프로그램 실행 중에 동적으로 생성할 수 있다.
+ 함수는 **일급(first-class)객체**다.
    - ```js
          // 안티패턴
          // 데모의 목적으로만 사용
          var add = new Function('a, b', 'return a+b');
          add(1,2);   // 3을 반환
          ```
    - 변수에 할당 할 수 있고, 다른 변수에 참조를 복사할 수 있으며, 확장 가능하고, 몇몇 특별한 경우를 제외하면 삭제할 수 있다.
    - 다른 함수의 인자로 전달할 수 있고, 다른 함수의 반환 값이 될 수 있다.
    - 자기 자신의 프로퍼티와 메서드를 가질 수 있다.
+ 함수는 **유효범위(scope)를** 제공한다.
    - 자바스크립트에서는 중괄호``({})`` 지역 유효범위가 없다.
    - 달리 말해 **블록이 유효범위를 만들지 않는다.**
    - 변수를 ``if 조건문``이나 ``for문``, ``while``문 내에서 ``var``로 정의해도, 이 변수가 ``if``나 ``for``문의 지역변수가 되지 않는다.
        + 이 변수는 해당 블럭을 감싸는 **함수**가 있을 때만 **지역변수**가 된다.
    - 변수의 유효범위를 잘 관리하기 위해서는 함수는 없어서는 안될 존재다.

### 용어 정리
#### 함수 표현식
- 함수표현은 ``Function Literal`` 이다.
- **실행 가능한 코드로 해석**되어지거나 **변수나 데이터구조에 할당**되어지고 있음을 의미한다.
- 즉 해당 코드블럭이 실행코드로서 해석되어지며 동시에 코드실행에 따른 결과값을 가지거나 특정 변수에 할당된 값으로 존재한다.

이처럼 함수표현은 함수리터럴로 특정변수에 할당되거나 즉시 실행가능한 코드 블럭으로서 존재하는 함수를 의미하는 것이다.
함수표현이 실행코드로서 해석되기 위해서는 ()를 이용하여 함수를 감싸 주어야 한다. 이를 자기호출함수(self invoking function) 라고도 한다.
자기호출함수는 재귀함수와는 다른 개념이다. **재귀함수**는 함수 안에서 자신을 호출하는 형식이지만 **자기호출함수**는 해석과 동시에 실행되는 코드블럭을 말한다.

```js
// 함수 표현식(익명 함수)
var foo = function() {
    console.log('hello');
};

// 기명함수 표현식
var foo = function A() {
    console.log('hello');
};

// 자기호출함수
(function foo() {
    console.log('hello');
})();
```

위 코드에서 기명함수 표현식은 매우 특이하다. ``foo``라는 변수에 이름있는 함수``(A)``를 할당하고 있다. 흔히 알고 있는 함수리터럴과는 좀 거리가 있다. 하지만 이 기명함수 표현식에는 한가지 특징이 있다. 바로 해당 함수의 이름``(A)``은 함수밖에서는 사용할수 없다는 것이다.

```js
var foo = function A() {
    A(); // 실행가능
}

A(); //  Syntax Error
```


즉 재귀호출외에는 그다지 쓸 데가 없다. 하지만 이런 표현식이 가능하다는 것은 알고 있다고 나쁠것은 없지 않은가? 함수표현은 자기호출함수을 이용하여 콘솔에서 실행결과를 받을 수 있다.


```js
(function foo() {
    console.log('hello');
})();
// 코드를 치자마자 "hello"가 바로 콘솔창에 찍힌다
```

#### 함수 선언문
- 함수선언은 ``Function Statement``라고도 하며 말그대로 함수 **문장**이란 뜻이다. 이는 곧 실행가능한 코드블럭이 아니며 함수의 정의를 나타내는 문장으로 해석되며 따라서 **코드해석에 따른 수행결과가 존재하지 않는다는 것**을 의미한다.
- ``Statement``라는 개념을 잘 집고 넘어가야 한다. 함수 선언문이 ``Statement``라고 하는 말은 정의에서 밝힌것 처럼 코드블럭 자체는 실행가능 코드가 아니라는 것이다. 즉 해당 코드블럭을 **콘솔에서 실행하여도 어떠한 결과도 return되지 않는다.** 그러한 이유로 함수선언문을 Class와 동일한 개념으로 이해해도 무방하다.

```js
//Function Declarations
function foo() {
    console.log('hello');
}
```

이러한 statement 는 console 에서 실행을 시켜도 아무런 결과를 반환하지 않는다.

```js
function foo() {console.log('hello');}
undefined
```

### 선언문 vs 표현식: 이름과 호이스팅
이들 함수선언과 함수표현은 함수호출 방법에서는 큰 차이가 없다. 하지만 **호이스팅(hoisting)관점에서는 큰 차이**를 보이게 된다.

+ 호이스팅이란
    -
